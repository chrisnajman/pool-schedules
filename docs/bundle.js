(()=>{var x="SWIMMING-POOL-CHART",h=`${x}-radios`,K=document.querySelectorAll("thead"),Y=["06:00-07:00","07:00-08:00","08:00-09:00","09:00-10:00","10:00-11:00","11:00-12:00","12:00-13:00","13:00-14:00","14:00-15:00","15:00-16:00","16:00-17:00","17:00-18:00","18:00-19:00","19:00-20:00","20:00-21:00","21:00-22:00"],j=[1,2,3,4,5],J=["Lessons","Fitness","Activity","Closed"];function w(){let e=`${x}-theme`,t=document.querySelector(".theme-toggler"),o=t.querySelector(".light .visually-hidden"),a=t.querySelector(".dark .visually-hidden"),r=t.querySelector("button");function n(){try{let i=localStorage.getItem(e);return i?JSON.parse(i):!1}catch(i){return console.error("Error parsing theme from localStorage:",i),!1}}let d=n();function c(i){d=i,document.documentElement.classList.toggle("darkmode",d),localStorage.setItem(e,d),l()}function s(){c(!d)}function l(){o.textContent=d?" theme active":" theme inactive",a.textContent=d?" theme inactive":" theme active",r.setAttribute("aria-pressed",d?"false":"true")}r.addEventListener("click",s),c(d)}function v(){window.addEventListener("load",()=>{let e=document.getElementById("loader"),t=document.getElementById("page-loaded");e.classList.add("loader-hidden"),e.addEventListener("transitionend",()=>{e.remove(),t.textContent="Page has loaded.",t.setAttribute("aria-hidden","false")})})}function y(e,t){for(let o in t)e.setAttribute(o,t[o])}function g(e){e.forEach(t=>{y(t,{"aria-selected":"false",tabindex:"-1"})})}function S(e){e.forEach(t=>{let o=t.closest('[role="tabpanel"]');o&&(o.hidden=!0,o.setAttribute("tabindex","-1"),o.style.display="")})}function C(){let e=document.querySelectorAll('button[role="tab"]'),t=document.querySelectorAll('[role="tabpanel"]'),o=0;e.forEach((n,d)=>{n.addEventListener("click",c=>{a(d)}),n.addEventListener("keydown",c=>{let s=c.key,l=e.length-1;s==="ArrowLeft"||s==="ArrowUp"?a(o===0?l:o-1):s==="ArrowRight"||s==="ArrowDown"?a(o===l?0:o+1):s==="Home"?a(0):s==="End"&&a(l)})});function a(n){g(e),e[o].setAttribute("aria-selected","false"),e[o].tabIndex=-1,e[n].setAttribute("aria-selected","true"),e[n].tabIndex=0,e[n].focus(),r(n),o=n}function r(n){S(t),t[o].setAttribute("hidden",""),t[o].tabIndex=-1,t[n].removeAttribute("hidden"),t[n].tabIndex=0}}function L(){let e=localStorage.getItem(h);if(!e)return;let t=JSON.parse(e);Object.values(t).forEach(o=>{o.forEach(({id:a})=>{let r=document.getElementById(a);r&&(r.checked=!0)})})}function A(){let e=`
            <tr>
                <th rowspan="2">Time</th>
                <th colspan="5">Lanes</th>
            </tr>
            <tr>
                <th>1</th>
                <th>2</th>
                <th>3</th>
                <th>4</th>
                <th>5</th>
            </tr>
        `;K.forEach(t=>{t.innerHTML=e})}var G=document.getElementById("admin");function m(e){G&&(A(),Y.forEach((t,o)=>{let a=document.createElement("tr"),r=document.createElement("th");r.scope="row",r.textContent=t,a.appendChild(r),j.forEach(n=>{let d=document.createElement("td");J.forEach((c,s)=>{let l=e.getAttribute("id"),i=`${l}_timeIndex_${o}_time_${t}_lane_${n}_${c}`,E=`${l}_timeIndex_${o}_time_${t}_lane_${n}`,b=document.createElement("div"),f=document.createElement("input");f.type="radio",f.id=i,f.name=E,f.required=!0,s===0&&(f.checked=!0);let p=document.createElement("label");p.setAttribute("for",i),p.textContent=c,b.appendChild(f),b.appendChild(p),d.appendChild(b)}),a.appendChild(d)}),e.appendChild(a)}))}function T(e){let t=[];e.forEach(n=>{n.checked&&t.push({radioId:n.id,radioName:n.name})});let a=[...e].find(n=>n.checked).name.split("_")[0],r=new URLSearchParams;r.set("day",a),window.location.href=`daily-pool-chart.html?${r.toString()}`}function B(){let e=document.querySelectorAll("input[type='radio']"),t={};e.forEach(o=>{if(o.checked){let r=o.id.split("_")[0];t[r]||(t[r]=[]),t[r].push({id:o.id,name:o.name})}}),localStorage.setItem(h,JSON.stringify(t))}function u(e,t){e.addEventListener("submit",o=>{o.preventDefault(),T(t),B()})}var _=document.getElementById("monday"),q=document.getElementById("tuesday"),R=document.getElementById("wednesday"),k=document.getElementById("thursday"),O=document.getElementById("friday"),P=document.getElementById("saturday"),$=document.getElementById("sunday");function M(){if(_){let e=document.getElementById("Monday");m(e);let t=_.querySelectorAll("input[type='radio']");u(_,t)}if(q){let e=document.getElementById("Tuesday");m(e);let t=q.querySelectorAll("input[type='radio']");u(q,t)}if(R){let e=document.getElementById("Wednesday");m(e);let t=R.querySelectorAll("input[type='radio']");u(R,t)}if(k){let e=document.getElementById("Thursday");m(e);let t=k.querySelectorAll("input[type='radio']");u(k,t)}if(O){let e=document.getElementById("Friday");m(e);let t=O.querySelectorAll("input[type='radio']");u(O,t)}if(P){let e=document.getElementById("Saturday");m(e);let t=P.querySelectorAll("input[type='radio']");u(P,t)}if($){let e=document.getElementById("Sunday");m(e);let t=$.querySelectorAll("input[type='radio']");u($,t)}L()}function D(){A();let e=localStorage.getItem(h);if(!e){Object.values(document.querySelectorAll("tbody[id^='output-']")).forEach(t=>{t.textContent="No schedule data found in localStorage."});return}try{let t=JSON.parse(e);for(let[o,a]of Object.entries(t)){let r=document.getElementById(`output-${o}`);if(r){r.innerHTML="";for(let n=0;n<a.length;n+=5){let d=document.createElement("tr"),c=a.slice(n,n+5),i=(c[0].radioId||c[0].id).split("_")[4],E=document.createElement("th");E.scope="row",E.textContent=i,d.appendChild(E),c.forEach(({radioId:b,id:f})=>{let p=document.createElement("td"),I=document.createElement("span"),H=(b||f).split("_")[7],W=H.toLowerCase();I.textContent=H,I.classList.add(W,"visually-hidden"),p.appendChild(I),d.appendChild(p)}),r.appendChild(d)}}}}catch(t){Object.values(document.querySelectorAll("tbody[id^='output-']")).forEach(o=>{o.textContent="Invalid data format in localStorage."}),console.error("Error parsing localStorage data:",t)}}function N(){let e=document.getElementById("go-back"),t=window.location.search,a=new URLSearchParams(t).get("day"),r=new URLSearchParams;r.set("day",a),e.addEventListener("click",()=>{window.location.href=`index.html?${r.toString()}`})}var X=document.getElementById("chart");function F(){X&&(D(),N())}function U(e){if(!e)return;let t=document.querySelectorAll("button[role='tab']");g(t),t.forEach(r=>{let n,d=r.querySelector("abbr");d?n=d.title:n=r.textContent.trim(),e===n?y(r,{"aria-selected":"true",tabindex:"0"}):y(r,{"aria-selected":"false",tabindex:"-1"})});let o=document.querySelectorAll(".schedule");S(o);let a=e.toLowerCase();o.forEach(r=>{let n=r.closest("div[role='tabpanel']");a===r.id?(n.hidden=!1,n.setAttribute("tabindex","0")):(n.hidden=!0,n.setAttribute("tabindex","-1"))})}w();v();C();M();F();var z=window.location.search,Q=new URLSearchParams(z),V=Q.get("day");U(V);})();
